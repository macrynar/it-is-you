<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cennik â€“ Alcheme</title>
  <meta name="description" content="Odblokuj peÅ‚en potencjaÅ‚ Alcheme. Premium daje dostÄ™p do AI analizy osobowoÅ›ci, testÃ³w Dark Triady, Mocnych Stron i nieograniczonego ponawania." />
  <link rel="stylesheet" href="/tw.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&family=Cinzel:wght@600&family=Raleway:wght@300&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; }
    h1, h2, h3, h4, .brand-font { font-family: 'Space Grotesk', sans-serif; }

    .alcheme-logo{display:flex;align-items:center;gap:11px;cursor:pointer;user-select:none;text-decoration:none;}
    .alcheme-logo-texts{display:flex;flex-direction:column;gap:2px;}
    .alcheme-logo-name{font-family:'Cinzel',serif;font-size:17px;font-weight:600;letter-spacing:.14em;line-height:1;background:linear-gradient(120deg,#fff 0%,rgba(0,240,255,.88) 55%,rgba(112,0,255,.75) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
    .alcheme-logo-sub{font-family:'Raleway',sans-serif;font-size:6.5px;font-weight:300;letter-spacing:.36em;text-transform:uppercase;color:rgba(255,255,255,.28);padding-left:1px;}

    .glass-panel {
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }

    .premium-card {
      background: rgba(15, 10, 40, 0.7);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(168, 85, 247, 0.35);
      box-shadow: 0 0 60px rgba(168, 85, 247, 0.18), 0 0 120px rgba(99, 102, 241, 0.08), inset 0 1px 0 rgba(255,255,255,0.06);
      position: relative;
    }
    .premium-card::before {
      content: '';
      position: absolute;
      top: 0; left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(168,85,247,0.8), rgba(99,102,241,0.8), transparent);
    }

    .free-card {
      background: rgba(15, 23, 42, 0.55);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .iiy-nav-link {
      position: relative;
      color: rgba(255,255,255,.5);
      font-size: 13.5px;
      font-weight: 600;
      text-decoration: none;
      padding: 4px 0;
      transition: color .2s;
      white-space: nowrap;
      letter-spacing: .2px;
      font-family: 'Space Grotesk', -apple-system, sans-serif;
    }
    .iiy-nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px; left: 0;
      width: 0; height: 1.5px;
      border-radius: 2px;
      background: linear-gradient(90deg, #00f0ff, #7000ff);
      box-shadow: 0 0 8px rgba(0,240,255,.55);
      transition: width .25s ease;
    }
    .iiy-nav-link:hover { color: rgba(255,255,255,.9); }
    .iiy-nav-link:hover::after { width: 100%; }
    .iiy-nav-link.active { color: #fff; }
    .iiy-nav-link.active::after { width: 100%; }

    .theme-toggle {
      position: relative; width: 60px; height: 32px;
      background: rgba(30,41,59,0.6); border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.1);
      cursor: pointer; transition: all 0.3s ease; flex-shrink: 0;
    }
    .theme-toggle:hover { background: rgba(15,7,40,0.9); border-color: rgba(112,0,255,0.5); }
    .theme-toggle-slider {
      position: absolute; top: 3px; left: 3px;
      width: 24px; height: 24px;
      background: linear-gradient(135deg,#7000ff,#00f0ff);
      border-radius: 50%; transition: transform 0.3s cubic-bezier(0.4,0,0.2,1);
      box-shadow: 0 2px 8px rgba(112,0,255,0.5);
    }
    .theme-toggle.light .theme-toggle-slider { transform: translateX(28px); background: linear-gradient(135deg,#F59E0B,#EAB308); box-shadow: 0 2px 8px rgba(245,158,11,0.4); }
    .theme-icon { position: absolute; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; transition: opacity 0.3s ease; }
    .theme-icon-moon { left: 8px; opacity: 1; }
    .theme-icon-sun { right: 8px; opacity: 0.4; }
    .theme-toggle.light .theme-icon-moon { opacity: 0.4; }
    .theme-toggle.light .theme-icon-sun { opacity: 1; }

    .nav-icon-btn {
      display: flex; align-items: center; justify-content: center;
      width: 36px; height: 36px; border-radius: 8px;
      color: rgba(255,255,255,.45); border: 1px solid transparent;
      background: none; cursor: pointer; transition: all .2s;
      text-decoration: none;
    }
    .nav-icon-btn:hover { color: #fff; background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.1); }
    .nav-icon-btn.logout:hover { color: #f87171; background: rgba(239,68,68,.08); border-color: rgba(239,68,68,.2); }

    .gradient-text {
      background: linear-gradient(135deg, #a78bfa 0%, #60a5fa 50%, #34d399 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .gradient-text-gold {
      background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #fb923c 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .btn-premium {
      background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 50%, #2563eb 100%);
      box-shadow: 0 0 30px rgba(124,58,237,0.4), 0 0 60px rgba(79,70,229,0.15);
      border: 1px solid rgba(167,139,250,0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .btn-premium::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }
    .btn-premium:hover { box-shadow: 0 0 40px rgba(124,58,237,0.6), 0 0 80px rgba(79,70,229,0.25); transform: translateY(-1px); }
    .btn-premium:hover::after { opacity: 1; }

    .feature-check { color: #a78bfa; }
    .feature-cross { color: rgba(100,116,139,0.6); }

    .badge-popular {
      background: linear-gradient(135deg, #7c3aed, #4f46e5);
      box-shadow: 0 0 20px rgba(124,58,237,0.5);
    }

    .glow-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: #a78bfa;
      box-shadow: 0 0 8px rgba(167,139,250,0.8);
      flex-shrink: 0;
      margin-top: 4px;
    }
    .glow-dot-cyan { background: #22d3ee; box-shadow: 0 0 8px rgba(34,211,238,0.8); }
    .glow-dot-green { background: #34d399; box-shadow: 0 0 8px rgba(52,211,153,0.8); }

    .faq-item { border-bottom: 1px solid rgba(255,255,255,0.06); }
    .faq-item summary { cursor: pointer; list-style: none; }
    .faq-item summary::-webkit-details-marker { display: none; }
    .faq-item[open] summary .faq-arrow { transform: rotate(180deg); }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    .shimmer-line {
      position: absolute;
      inset: 0;
      background: linear-gradient(90deg, transparent 0%, rgba(167,139,250,0.06) 50%, transparent 100%);
      animation: shimmer 3s infinite;
    }

    @media (max-width: 640px) {
      .pricing-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- BG GRID -->
  <div class="fixed inset-0 bg-[linear-gradient(rgba(99,102,241,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(99,102,241,0.03)_1px,transparent_1px)] bg-[size:50px_50px] pointer-events-none"></div>
  <div class="fixed top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-gradient-to-b from-purple-900/10 via-indigo-900/5 to-transparent pointer-events-none"></div>

  <!-- NAV -->
  <nav class="fixed w-full z-50 glass-panel border-b border-white/5 bg-slate-950/80">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-20">
        <a href="/" class="alcheme-logo">
          <svg width="38" height="38" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0">
            <defs><filter id="alch-gs"><feGaussianBlur stdDeviation=".9" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter><filter id="alch-gm"><feGaussianBlur stdDeviation="2.2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter><filter id="alch-gl"><feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>
            <circle cx="50" cy="50" r="47" fill="rgba(10,4,40,.55)" stroke="rgba(255,255,255,.18)" stroke-width="1.2"/><circle cx="50" cy="50" r="42" fill="none" stroke="rgba(255,255,255,.07)" stroke-width=".4"/>
            <polygon points="50,8 92,50 50,92 8,50" fill="rgba(112,0,255,.08)" stroke="rgba(167,139,250,.55)" stroke-width="1.2" stroke-linejoin="round"/>
            <polygon points="79.7,20.3 79.7,79.7 20.3,79.7 20.3,20.3" fill="rgba(112,0,255,.08)" stroke="rgba(167,139,250,.55)" stroke-width="1.2" stroke-linejoin="round"/>
            <polygon points="50,8 79.7,79.7 8,50 79.7,20.3 50,92 20.3,20.3 92,50 20.3,79.7" fill="rgba(0,240,255,.07)" stroke="#00f0ff" stroke-width="1.4" stroke-linejoin="round" filter="url(#alch-gs)"/>
            <circle cx="50" cy="8" r="3.5" fill="#00f0ff" filter="url(#alch-gm)"/><circle cx="79.7" cy="20.3" r="3" fill="#c4b5fd" filter="url(#alch-gs)"/><circle cx="92" cy="50" r="3.5" fill="#00f0ff" filter="url(#alch-gm)"/><circle cx="79.7" cy="79.7" r="3" fill="#c4b5fd" filter="url(#alch-gs)"/><circle cx="50" cy="92" r="3.5" fill="#00f0ff" filter="url(#alch-gm)"/><circle cx="20.3" cy="79.7" r="3" fill="#c4b5fd" filter="url(#alch-gs)"/><circle cx="8" cy="50" r="3.5" fill="#00f0ff" filter="url(#alch-gm)"/><circle cx="20.3" cy="20.3" r="3" fill="#c4b5fd" filter="url(#alch-gs)"/>
            <circle cx="50" cy="50" r="14" fill="rgba(0,240,255,.09)" filter="url(#alch-gl)"><animate attributeName="opacity" values=".3;.75;.3" dur="3s" repeatCount="indefinite"/></circle>
            <circle cx="50" cy="50" r="11" fill="#040115"/><circle cx="50" cy="50" r="11" fill="none" stroke="#00f0ff" stroke-width="2" filter="url(#alch-gs)"><animate attributeName="stroke-opacity" values=".5;1;.5" dur="3s" repeatCount="indefinite"/></circle>
            <circle cx="50" cy="50" r="3.5" fill="#00f0ff" filter="url(#alch-gm)"><animate attributeName="r" values="2.8;4.2;2.8" dur="3s" repeatCount="indefinite"/><animate attributeName="opacity" values=".75;1;.75" dur="3s" repeatCount="indefinite"/></circle>
          </svg>
          <div class="alcheme-logo-texts">
            <div class="alcheme-logo-name">Alcheme</div>
            <div class="alcheme-logo-sub">Know yourself Â· Transform</div>
          </div>
        </a>

        <!-- Nav links â€” public by default, JS swaps to logged-in links -->
        <div id="nav-links" class="hidden md:flex items-center gap-8">
          <a href="/methodology" class="iiy-nav-link">Metodologia</a>
          <a href="/#features" class="iiy-nav-link">KorzyÅ›ci</a>
          <a href="/pricing" class="iiy-nav-link active">Cennik</a>
        </div>

        <!-- Nav actions â€” public by default, JS swaps to logged-in actions -->
        <div id="nav-actions" class="flex items-center gap-4">
          <a href="/auth" class="text-sm font-medium text-slate-400 hover:text-white transition-colors hidden sm:block">Zaloguj</a>
          <a href="/auth" class="bg-white text-slate-950 px-6 py-2.5 rounded-full text-sm font-bold hover:bg-indigo-50 transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.15)]">
            Wykonaj test
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <section class="pt-36 pb-16 px-4 text-center relative">
    <div class="inline-flex items-center gap-2 px-4 py-2 mb-6 text-xs font-semibold tracking-wider text-purple-300 uppercase bg-purple-950/40 rounded-full border border-purple-500/30 backdrop-blur-sm">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none"><circle cx="6" cy="6" r="5" stroke="#a78bfa" stroke-width="1.5"/><path d="M6 3.5v3l2 1.5" stroke="#a78bfa" stroke-width="1.2" stroke-linecap="round"/></svg>
      Prosto i przejrzyÅ›cie
    </div>
    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold brand-font text-white mb-5 leading-tight">
      Jeden plan.<br>
      <span class="gradient-text">PeÅ‚na wiedza o sobie.</span>
    </h1>
    <p class="text-slate-400 text-lg max-w-xl mx-auto mb-4">
      Zacznij za darmo. PrzejdÅº na Premium gdy chcesz gÅ‚Ä™bszej analizy â€” bez ukrytych kosztÃ³w.
    </p>
  </section>

  <!-- PRICING CARDS -->
  <section class="max-w-5xl mx-auto px-4 pb-20">
    <div class="grid md:grid-cols-2 gap-6 items-stretch pricing-grid">

      <!-- FREE CARD -->
      <div class="free-card rounded-3xl p-8">
        <div class="mb-6">
          <div class="text-xs font-semibold tracking-widest text-slate-500 uppercase mb-3">Podstawowy</div>
          <div class="flex items-end gap-2 mb-2">
            <span class="text-5xl font-bold brand-font text-white">0 zÅ‚</span>
          </div>
          <p class="text-slate-500 text-sm">Na zawsze darmowy</p>
        </div>

        <a href="/auth" class="block w-full text-center py-3.5 px-6 rounded-xl font-semibold text-sm text-slate-300 border border-white/10 hover:border-white/20 hover:text-white transition-all duration-200 mb-8">
          Zacznij teraz
        </a>

        <div class="space-y-4">
          <div class="text-xs font-semibold tracking-widest text-slate-600 uppercase mb-4">Co zawiera</div>

          <div class="flex items-start gap-3">
            <div class="glow-dot mt-1.5"></div>
            <div>
              <div class="text-slate-200 text-sm font-medium">4 testy psychometryczne</div>
              <div class="text-slate-500 text-xs mt-0.5">HEXACO, Enneagram, Kariera (RIASEC), WartoÅ›ci</div>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <div class="glow-dot mt-1.5"></div>
            <div>
              <div class="text-slate-200 text-sm font-medium">Wyniki z wizualizacjami</div>
              <div class="text-slate-500 text-xs mt-0.5">Wykresy radarowe, mapy wartoÅ›ci, tabele wynikÃ³w</div>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <div class="glow-dot mt-1.5"></div>
            <div>
              <div class="text-slate-200 text-sm font-medium">Karta Postaci AI</div>
              <div class="text-slate-500 text-xs mt-0.5">Podstawowa synteza osobowoÅ›ci generowana przez AI</div>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <div class="glow-dot mt-1.5"></div>
            <div>
              <div class="text-slate-200 text-sm font-medium">5 zapytaÅ„ do PsycherAI</div>
              <div class="text-slate-500 text-xs mt-0.5">Rozmowa z AI na temat Twoich wynikÃ³w</div>
            </div>
          </div>

          <div class="pt-2 border-t border-white/5 space-y-3">
            <div class="flex items-center gap-3 opacity-40">
              <svg class="w-4 h-4 flex-shrink-0 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              <span class="text-slate-500 text-sm">Test Dark Triady (SD3)</span>
            </div>
            <div class="flex items-center gap-3 opacity-40">
              <svg class="w-4 h-4 flex-shrink-0 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              <span class="text-slate-500 text-sm">Test Mocnych Stron</span>
            </div>
            <div class="flex items-center gap-3 opacity-40">
              <svg class="w-4 h-4 flex-shrink-0 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              <span class="text-slate-500 text-sm">Neuronal Engine Analysis</span>
            </div>
            <div class="flex items-center gap-3 opacity-40">
              <svg class="w-4 h-4 flex-shrink-0 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              <span class="text-slate-500 text-sm">Nielimitowane ponawianie testÃ³w</span>
            </div>
          </div>
        </div>
      </div>

      <!-- PREMIUM CARD -->
      <div class="premium-card rounded-3xl p-8">
        <div class="shimmer-line"></div>

        <!-- Badge -->
        <div class="flex justify-center mb-5">
          <div class="badge-popular px-4 py-1.5 rounded-full text-xs font-bold text-white tracking-wider uppercase whitespace-nowrap">
            âœ¦ Najbardziej popularne
          </div>
        </div>

        <div class="mb-6">
          <div class="text-xs font-semibold tracking-widest text-purple-400 uppercase mb-3">Premium</div>
          <div class="flex items-end gap-2 mb-2">
            <span class="text-5xl font-bold brand-font text-white">19 zÅ‚</span>
            <span class="text-slate-400 text-sm mb-1.5">/ miesiÄ…c</span>
          </div>
          <p class="text-slate-400 text-sm">PeÅ‚ny dostÄ™p. Anuluj kiedy chcesz.</p>
        </div>

        <button
          id="btn-upgrade"
          class="btn-premium block w-full text-center py-3.5 px-6 rounded-xl font-bold text-sm text-white transition-all duration-200 mb-8 cursor-pointer"
          onclick="handleUpgrade()"
        >
          Odblokuj Premium â†’
        </button>

        <div class="space-y-4">
          <div class="text-xs font-semibold tracking-widest text-purple-500 uppercase mb-4">Wszystko z Free, plus:</div>

          <div class="flex items-start gap-3">
            <div class="glow-dot-cyan mt-1.5 w-2 h-2 rounded-full" style="background:#22d3ee;box-shadow:0 0 8px rgba(34,211,238,.8);flex-shrink:0;margin-top:4px;"></div>
            <div>
              <div class="text-white text-sm font-semibold">Test Dark Triady (SD3)</div>
              <div class="text-slate-400 text-xs mt-0.5">Narcyzm, Makiawelizm, Psychopatia â€” naukowa diagnoza ciemnej strony osobowoÅ›ci</div>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div style="background:#22d3ee;box-shadow:0 0 8px rgba(34,211,238,.8);flex-shrink:0;margin-top:4px;width:8px;height:8px;border-radius:50%;"></div>
            <div>
              <div class="text-white text-sm font-semibold">Test Mocnych Stron</div>
              <div class="text-slate-400 text-xs mt-0.5">Odkryj swoje unikalne talenty i jak je przekuÄ‡ w przewagÄ™ zawodowÄ…</div>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div style="background:#a78bfa;box-shadow:0 0 8px rgba(167,139,250,.8);flex-shrink:0;margin-top:4px;width:8px;height:8px;border-radius:50%;"></div>
            <div>
              <div class="text-white text-sm font-semibold">Neuronal Engine Analysis</div>
              <div class="text-slate-400 text-xs mt-0.5">Dedykowany opis wynikÃ³w kaÅ¼dego testu generowany przez AI â€” pogÅ‚Ä™biona, spersonalizowana interpretacja</div>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div style="background:#a78bfa;box-shadow:0 0 8px rgba(167,139,250,.8);flex-shrink:0;margin-top:4px;width:8px;height:8px;border-radius:50%;"></div>
            <div>
              <div class="text-white text-sm font-semibold">100 zapytaÅ„ miesiÄ™cznie do PsycherAI</div>
              <div class="text-slate-400 text-xs mt-0.5">Rozmawiaj z AI o wynikach, pytaj o kariery, strategie i decyzje Å¼yciowe</div>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div style="background:#34d399;box-shadow:0 0 8px rgba(52,211,153,.8);flex-shrink:0;margin-top:4px;width:8px;height:8px;border-radius:50%;"></div>
            <div>
              <div class="text-white text-sm font-semibold">Nielimitowane ponawianie testÃ³w</div>
              <div class="text-slate-400 text-xs mt-0.5">ÅšledÅº zmiany osobowoÅ›ci w czasie â€” powtarzaj testy bez ograniczeÅ„</div>
            </div>
          </div>

          <div class="flex items-start gap-3">
            <div style="background:#34d399;box-shadow:0 0 8px rgba(52,211,153,.8);flex-shrink:0;margin-top:4px;width:8px;height:8px;border-radius:50%;"></div>
            <div>
              <div class="text-white text-sm font-semibold">Wczesny dostÄ™p do nowych testÃ³w</div>
              <div class="text-slate-400 text-xs mt-0.5">Pierwsi testujÄ… nowe moduÅ‚y â€” Attachment Style, Big Five 2.0 i wiÄ™cej</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- TRUST STRIP -->
    <div class="mt-8 flex flex-wrap justify-center gap-6 text-slate-500 text-xs">
      <div class="flex items-center gap-2">
        <svg class="w-4 h-4 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
        PÅ‚atnoÅ›ci przez Stripe â€” szyfrowane SSL
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-4 h-4 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
        Anulowanie subskrypcji w dowolnym momencie
      </div>
      <div class="flex items-center gap-2">
        <svg class="w-4 h-4 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
        Dane poufne â€” szyfrowane i bezpieczne
      </div>
    </div>
  </section>

  <!-- FEATURE DEEP DIVE -->
  <section class="max-w-5xl mx-auto px-4 pb-24">
    <h2 class="text-2xl sm:text-3xl font-bold brand-font text-white text-center mb-3">Co dokÅ‚adnie zyskujesz?</h2>
    <p class="text-slate-500 text-center text-sm mb-12">SzeÅ›Ä‡ narzÄ™dzi. Jedno jasne spojrzenie na siebie.</p>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5">

      <!-- Dark Triad -->
      <div class="glass-panel rounded-2xl p-6 border border-red-500/15 hover:border-red-500/30 transition-all duration-300 group">
        <div class="text-2xl mb-3">ðŸŽ­</div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-500/10 text-amber-300 border border-amber-500/20 mb-3">
          Premium
        </div>
        <h3 class="text-white font-bold text-sm mb-2">Test Dark Triady (SD3)</h3>
        <p class="text-slate-500 text-xs leading-relaxed">Naukowy kwestionariusz SD3 mierzÄ…cy narcyzm, makiawelizm i psychopatiÄ™. Wiedza o ciemnej stronie osobowoÅ›ci to nie tabu â€” to przewaga.</p>
      </div>

      <!-- Strengths -->
      <div class="glass-panel rounded-2xl p-6 border border-emerald-500/15 hover:border-emerald-500/30 transition-all duration-300 group">
        <div class="text-2xl mb-3">âš¡</div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-500/10 text-amber-300 border border-amber-500/20 mb-3">
          Premium
        </div>
        <h3 class="text-white font-bold text-sm mb-2">Test Mocnych Stron</h3>
        <p class="text-slate-500 text-xs leading-relaxed">Identyfikuje Twoje naturalne talenty i mocne strony wg klasyfikacji VIA. Odkryj co robisz instynktownie dobrze i jak to skalowaÄ‡.</p>
      </div>

      <!-- Neuronal Engine -->
      <div class="glass-panel rounded-2xl p-6 border border-purple-500/20 hover:border-purple-500/40 transition-all duration-300 group">
        <div class="text-2xl mb-3">ðŸ§ </div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-500/10 text-amber-300 border border-amber-500/20 mb-3">
          Premium
        </div>
        <h3 class="text-white font-bold text-sm mb-2">Neuronal Engine Analysis</h3>
        <p class="text-slate-500 text-xs leading-relaxed">AI analizuje Twoje wyniki w kontekÅ›cie caÅ‚ego profilu i tworzy unikalnÄ…, gÅ‚Ä™bokÄ… interpretacjÄ™ â€” nie szablony, prawdziwa analiza.</p>
      </div>

      <!-- PsycherAI -->
      <div class="glass-panel rounded-2xl p-6 border border-cyan-500/15 hover:border-cyan-500/30 transition-all duration-300 group">
        <div class="text-2xl mb-3">ðŸ’¬</div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-500/10 text-amber-300 border border-amber-500/20 mb-3">
          Premium Â· 100/mies.
        </div>
        <h3 class="text-white font-bold text-sm mb-2">PsycherAI Chat</h3>
        <p class="text-slate-500 text-xs leading-relaxed">Porozmawiaj ze swoim profilem. Zadawaj pytania o relacje, karierÄ™, decyzje. AI zna Twoje wyniki i odpowiada w Twoim kontekÅ›cie.</p>
      </div>

      <!-- Unlimited retakes -->
      <div class="glass-panel rounded-2xl p-6 border border-blue-500/15 hover:border-blue-500/30 transition-all duration-300 group">
        <div class="text-2xl mb-3">ðŸ”„</div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-500/10 text-amber-300 border border-amber-500/20 mb-3">
          Premium
        </div>
        <h3 class="text-white font-bold text-sm mb-2">Nielimitowane ponawianie</h3>
        <p class="text-slate-500 text-xs leading-relaxed">OsobowoÅ›Ä‡ siÄ™ zmienia. ÅšledÅº swojÄ… ewolucjÄ™ â€” powtarzaj testy co kwartaÅ‚ i porÃ³wnuj wyniki. TwÃ³j osobisty dziennik zmian.</p>
      </div>

      <!-- Early access -->
      <div class="glass-panel rounded-2xl p-6 border border-indigo-500/15 hover:border-indigo-500/30 transition-all duration-300 group">
        <div class="text-2xl mb-3">ðŸš€</div>
        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-purple-500/10 text-purple-300 border border-purple-500/20 mb-3">
          WkrÃ³tce
        </div>
        <h3 class="text-white font-bold text-sm mb-2">Wczesny dostÄ™p</h3>
        <p class="text-slate-500 text-xs leading-relaxed">Attachment Style, Big Five 2.0, Emotional Intelligence, IQ Kognitywne â€” gdy wychodzÄ… nowe testy, Premium je dostaje pierwsze.</p>
      </div>

    </div>
  </section>

  <!-- COMPARISON TABLE -->
  <section class="max-w-3xl mx-auto px-4 pb-24">
    <h2 class="text-2xl font-bold brand-font text-white text-center mb-10">PorÃ³wnanie planÃ³w</h2>
    <div class="glass-panel rounded-2xl overflow-hidden">
      <table class="w-full text-sm">
        <thead>
          <tr class="border-b border-white/8">
            <th class="text-left px-6 py-4 text-slate-400 font-medium">Funkcja</th>
            <th class="px-6 py-4 text-slate-400 font-medium">Free</th>
            <th class="px-6 py-4 font-bold text-purple-300">Premium</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-white/5">
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Testy HEXACO, Enneagram, Kariera, WartoÅ›ci</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Wizualizacje i wykresy wynikÃ³w</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Karta Postaci AI (Synteza)</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Zapytania do PsycherAI</td>
            <td class="px-6 py-3.5 text-center text-slate-500">5 / mies.</td>
            <td class="px-6 py-3.5 text-center font-semibold text-purple-300">100 / mies.</td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Test Dark Triady (SD3)</td>
            <td class="px-6 py-3.5 text-center text-slate-600">â€”</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Test Mocnych Stron</td>
            <td class="px-6 py-3.5 text-center text-slate-600">â€”</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Neuronal Engine Analysis (AI)</td>
            <td class="px-6 py-3.5 text-center text-slate-600">â€”</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Nielimitowane ponawianie testÃ³w</td>
            <td class="px-6 py-3.5 text-center text-slate-600">â€”</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
          <tr>
            <td class="px-6 py-3.5 text-slate-300">Wczesny dostÄ™p do nowych testÃ³w</td>
            <td class="px-6 py-3.5 text-center text-slate-600">â€”</td>
            <td class="px-6 py-3.5 text-center"><span class="text-green-400">âœ“</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- FAQ -->
  <section class="max-w-2xl mx-auto px-4 pb-24">
    <h2 class="text-2xl font-bold brand-font text-white text-center mb-10">CzÄ™sto zadawane pytania</h2>
    <div class="space-y-0 glass-panel rounded-2xl overflow-hidden divide-y divide-white/5">

      <details class="faq-item group">
        <summary class="flex justify-between items-center px-6 py-5 text-slate-200 text-sm font-medium hover:text-white transition-colors">
          Czy mogÄ™ anulowaÄ‡ subskrypcjÄ™ w dowolnym momencie?
          <svg class="faq-arrow w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </summary>
        <div class="px-6 pb-5 text-slate-400 text-sm leading-relaxed">
          Tak â€” anulowanie jest natychmiastowe i moÅ¼liwe w kaÅ¼dej chwili z poziomu ustawieÅ„ konta. DostÄ™p Premium pozostaje aktywny do koÅ„ca opÅ‚aconego okresu rozliczeniowego.
        </div>
      </details>

      <details class="faq-item group">
        <summary class="flex justify-between items-center px-6 py-5 text-slate-200 text-sm font-medium hover:text-white transition-colors">
          Czy moje dane sÄ… bezpieczne?
          <svg class="faq-arrow w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </summary>
        <div class="px-6 pb-5 text-slate-400 text-sm leading-relaxed">
          Tak. Dane przechowywane sÄ… w zaszyfrowanej bazie Supabase (EU), pÅ‚atnoÅ›ci obsÅ‚uguje Stripe ze standardem PCI DSS. Nigdy nie sprzedajemy danych osobowych.
        </div>
      </details>

      <details class="faq-item group">
        <summary class="flex justify-between items-center px-6 py-5 text-slate-200 text-sm font-medium hover:text-white transition-colors">
          Czym rÃ³Å¼ni siÄ™ analiza AI w Premium od darmowej?
          <svg class="faq-arrow w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </summary>
        <div class="px-6 pb-5 text-slate-400 text-sm leading-relaxed">
          Free daje ogÃ³lnÄ… KartÄ™ Postaci â€” syntezÄ™ Twojej osobowoÅ›ci. Premium odblokowuje <strong class="text-slate-200">Neuronal Engine Analysis</strong>: dedykowany, gÅ‚Ä™boki opis wynikÃ³w kaÅ¼dego testu osobno, napisany w Twoim kontekÅ›cie â€” nie szablony, lecz prawdziwa personalizowana analiza.
        </div>
      </details>

      <details class="faq-item group">
        <summary class="flex justify-between items-center px-6 py-5 text-slate-200 text-sm font-medium hover:text-white transition-colors">
          Co to jest PsycherAI i do czego sÅ‚uÅ¼y?
          <svg class="faq-arrow w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </summary>
        <div class="px-6 pb-5 text-slate-400 text-sm leading-relaxed">
          PsycherAI to asystent AI ktÃ³ry zna Twoje wyniki testÃ³w i odpowiada na Twoje pytania w tym kontekÅ›cie. MoÅ¼esz pytaÄ‡ o dobÃ³r kariery, strategie relacji, mocne strony w konkretnych sytuacjach â€” wszystko bazuje na Twoim profilu osobowoÅ›ci.
        </div>
      </details>

      <details class="faq-item group">
        <summary class="flex justify-between items-center px-6 py-5 text-slate-200 text-sm font-medium hover:text-white transition-colors">
          Jak dziaÅ‚ajÄ… testy â€” czy sÄ… naukowe?
          <svg class="faq-arrow w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </summary>
        <div class="px-6 pb-5 text-slate-400 text-sm leading-relaxed">
          Tak. KaÅ¼dy test bazuje na zwalidowanych naukowo kwestionariuszach: HEXACO-60, RHETI (Enneagram), O*NET RIASEC, PVQ (WartoÅ›ci), SD3 (Dark Triad), VIA (Mocne Strony). Wyniki nie sÄ… diagnozÄ… klinicznÄ…, lecz narzÄ™dziem samopoznania.
        </div>
      </details>

    </div>
  </section>

  <!-- BOTTOM CTA -->
  <section class="max-w-3xl mx-auto px-4 pb-28 text-center">
    <div class="premium-card rounded-3xl p-10 sm:p-14">
      <div class="shimmer-line"></div>
      <div class="text-4xl mb-6">âœ¦</div>
      <h2 class="text-2xl sm:text-3xl font-bold brand-font text-white mb-4">
        Gotowy poznaÄ‡ siebie naprawdÄ™?
      </h2>
      <p class="text-slate-400 mb-8 max-w-md mx-auto">
        Zacznij za darmo. PrzejdÅº na Premium gdy chcesz wiÄ™cej â€” peÅ‚na analiza AI, nowe testy, nieograniczone moÅ¼liwoÅ›ci.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button
          onclick="handleUpgrade()"
          class="btn-premium px-8 py-4 rounded-xl font-bold text-white text-sm"
        >
          Odblokuj Premium za 19 zÅ‚ / mies.
        </button>
        <a href="/auth" class="px-8 py-4 rounded-xl font-semibold text-slate-300 border border-white/10 hover:border-white/20 hover:text-white transition-all text-sm">
          Zacznij za darmo
        </a>
      </div>
    </div>
  </section>

    <!-- FOOTER -->
  <footer class="border-t border-white/5 bg-black/30 backdrop-blur-xl mt-16">
    <div class="max-w-7xl mx-auto px-6 py-10">
      <div class="grid grid-cols-2 md:grid-cols-3 gap-8 mb-10">

        <!-- Col 1 â€“ brand + contact -->
        <div class="col-span-2 md:col-span-1">
          <a href="/" style="display:inline-block;margin-bottom:8px;text-decoration:none;">
            <span style="font-family:'Cinzel',serif;font-size:18px;font-weight:600;letter-spacing:.14em;background:linear-gradient(120deg,#fff 0%,rgba(0,240,255,.88) 55%,rgba(112,0,255,.75) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">Alcheme</span>
          </a>
          <p class="text-slate-500 text-sm leading-relaxed">Naukowa diagnoza potencjaÅ‚u w formie przystÄ™pnej grywalizacji.</p>
          <a href="mailto:hello@alcheme.io" class="inline-block mt-4 text-sm text-cyan-400/80 hover:text-cyan-300 transition" style="text-decoration:none;">hello@alcheme.io</a>
        </div>

        <!-- Col 3 â€“ Projekt -->
        <div>
          <h4 class="text-white font-bold text-sm mb-3">Projekt</h4>
          <ul class="space-y-2 text-slate-500 text-sm" style="list-style:none;padding:0;margin:0;">
            <li><a href="/"                     class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Strona gÅ‚Ã³wna</a></li>
            <li><a href="/pricing"              class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Cennik</a></li>
            <li><a href="/methodology"          class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Metodologia</a></li>
            <li><a href="/user-profile-tests"   class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Testy</a></li>
            <li><a href="/character"            class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Karta Postaci</a></li>
          </ul>
        </div>

        <!-- Col 4 â€“ Legal -->
        <div>
          <h4 class="text-white font-bold text-sm mb-3">Legal</h4>
          <ul class="space-y-2 text-slate-500 text-sm" style="list-style:none;padding:0;margin:0;">
            <li><a href="/privacy-policy"    class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Polityka PrywatnoÅ›ci</a></li>
            <li><a href="/regulamin.pdf" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">Regulamin</a></li>
            <li><a href="/privacy-policy#rodo" class="hover:text-indigo-400 transition" style="text-decoration:none;color:inherit;">RODO</a></li>
          </ul>
        </div>

      </div>

      <!-- Bottom bar -->
      <div class="border-t border-white/5 pt-6 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-slate-500">
        <span>&copy; 2026 Alcheme. All rights reserved.</span>
        <span>Disclaimer: To narzÄ™dzie rozwojowe, nie diagnoza kliniczna.</span>
      </div>
    </div>
  </footer>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

    const SUPABASE_URL = 'https://uvzilorpyuqicuwkufky.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2emlsb3JweXVxaWN1d2t1Zmt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNDQzNTAsImV4cCI6MjA4NjkyMDM1MH0.jNIkqASHNl_7WbLq0jBZ86kRDmRP2jzIbI-db9l9teA';
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Detect auth state and swap nav
    const NAV_LINK_CLS = 'iiy-nav-link';
    const NAV_ACTIVE_CLS = 'iiy-nav-link active';
    const ICON_BTN = 'display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;color:rgba(255,255,255,.45);border:1px solid transparent;text-decoration:none;transition:all .2s;';
    const ICON_HOVER = "this.style.color='#fff';this.style.background='rgba(255,255,255,.08)';this.style.borderColor='rgba(255,255,255,.1)';";
    const ICON_OUT = "this.style.color='rgba(255,255,255,.45)';this.style.background='';this.style.borderColor='transparent';";
    const SETTINGS_SVG = `<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>`;
    const LOGOUT_SVG = `<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>`;

    (async () => {
      const { data: { session } } = await supabase.auth.getSession();
      if (session) {
        document.getElementById('nav-links').innerHTML = `
          <a href="/methodology" class="iiy-nav-link">Metodologia</a>
          <a href="/pricing" class="iiy-nav-link active">Cennik</a>
          <a href="/character" class="iiy-nav-link">Karta Postaci</a>
          <a href="/user-profile-tests" class="iiy-nav-link">Moje testy</a>
        `;
        document.getElementById('nav-actions').innerHTML = `
          <a href="/settings" class="nav-icon-btn" title="Ustawienia">${SETTINGS_SVG}</a>
          <button class="nav-icon-btn logout" onclick="(async()=>{const s=createClient('https://uvzilorpyuqicuwkufky.supabase.co','eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV2emlsb3JweXVxaWN1d2t1Zmt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNDQzNTAsImV4cCI6MjA4NjkyMDM1MH0.jNIkqASHNl_7WbLq0jBZ86kRDmRP2jzIbI-db9l9teA');await s.auth.signOut();location.href='/'})()" title="Wyloguj">${LOGOUT_SVG}</button>
        `;
      }
    })();

    window.handleUpgrade = async function() {
      const btn = document.getElementById('btn-upgrade');

      // Check if logged in
      const { data: { session } } = await supabase.auth.getSession();
      if (!session) {
        sessionStorage.setItem('redirect_after_auth', '/pricing');
        window.location.href = '/auth';
        return;
      }

      btn.textContent = 'PrzekierowujÄ™ do pÅ‚atnoÅ›ci...';
      btn.disabled = true;

      try {
        const { data, error } = await supabase.functions.invoke('create-checkout-session', {
          body: {}
        });

        if (error || !data?.url) {
          throw new Error(error?.message || 'Brak URL sesji');
        }

        window.location.href = data.url;
      } catch (err) {
        console.error('Checkout error:', err);
        btn.textContent = 'BÅ‚Ä…d â€” sprÃ³buj ponownie';
        btn.disabled = false;
        setTimeout(() => { btn.textContent = 'Odblokuj Premium â†’'; }, 3000);
      }
    };
  </script>

</body>
</html>
